# AI Counseling Assistant Dashboard - 제품 요구사항 명세서 (PRD)

---

## 목차

1. [제품 상세 설명](#1-제품-상세-설명)
2. [레퍼런스 서비스 및 선정 근거](#2-레퍼런스-서비스-및-선정-근거)
3. [핵심 기능 및 상세 스펙](#3-핵심-기능-및-상세-스펙)
4. [추가 권장 기능](#4-추가-권장-기능)
5. [사용자 페르소나 및 시나리오](#5-사용자-페르소나-및-시나리오)
6. [기술 스택 권장사항](#6-기술-스택-권장사항)

---

## 1. 제품 상세 설명

### 1.1 제품 개요

**제품명 (가칭):** AI Counseling Assistant Dashboard

**제품 정의:**  
콜센터 상담사를 위한 실시간 AI 지원 웹 대시보드로, 통화 중 실시간 STT(Speech-to-Text) 전사, 온디맨드 방식의 AI 컨텍스트 분석(RAG 기반), 그리고 보안이 강화된 통화 후 요약 및 후속 메시징 기능을 제공합니다.

### 1.2 제품 철학

| 원칙 | 설명 |
|------|------|
| **비침습적 AI** | AI가 자동으로 개입하지 않으며, 모든 AI 기능은 상담사의 명시적 트리거로만 작동 |
| **상담사 주도권** | 최종 판단과 실행 권한은 항상 상담사에게 있음 |
| **고가독성/저인지부하** | 복잡한 정보를 단순하고 명확하게 전달하여 업무 집중도 유지 |
| **신뢰 기반 보안** | 개인정보 처리 상태를 시각적으로 명확히 전달하여 기업 신뢰도 확보 |

### 1.3 해결하고자 하는 문제

**현재 상담사가 겪는 Pain Points:**

1. **실시간 전사본 가독성 문제**
   - 하이라이트가 과도하게 적용된 전사본은 오히려 인지 부하를 증가시킴
   - 어떤 텍스트가 확정된 것인지, 진행 중인 것인지 구분이 어려움

2. **자동 AI 추천의 신뢰 저하**
   - 통화 중 AI가 자동으로 추천을 띄우면 집중력이 분산됨
   - "AI가 틀린 정보를 줄 수 있다"는 불안감으로 인해 기능 사용 회피

3. **정보 검색의 비효율성**
   - 통화 중 정책/상품 정보를 찾는 데 시간이 오래 걸림
   - 여러 시스템을 오가며 검색해야 하는 불편함

4. **개인정보 노출 우려**
   - AI 요약 및 로깅 시 민감 정보가 그대로 저장될 수 있다는 불안
   - 컴플라이언스 감사 대응에 대한 부담

5. **AI 처리 상태의 불명확성**
   - AI가 작동 중인지, 완료되었는지 피드백이 없어 답답함
   - 시스템 지연인지 오류인지 판단 불가

### 1.4 목표 및 KPI

**비즈니스 목표:**

| 목표 | 측정 방식 |
|------|----------|
| 상담사 인지 부하 감소 | 상담사 만족도 설문, 작업 완료 시간 측정 |
| 복잡한 고객 질문 대응 정확도 향상 | 오답률 추적, 재문의율 감소 |
| AI 보조 시스템에 대한 신뢰도 증가 | AI 기능 사용률, NPS 조사 |
| 엔터프라이즈급 보안 및 컴플라이언스 준비 | 감사 통과율, 보안 인시던트 건수 |

**핵심 KPI:**

| KPI | 목표치 | 측정 주기 |
|-----|--------|----------|
| 평균 처리 시간 (AHT) | 15% 감소 | 월간 |
| 상담사 만족도 점수 | 4.0/5.0 이상 | 분기별 |
| AI 기능 사용률 (수동 트리거) | 60% 이상 | 주간 |
| 통화 후 요약 오류율 | 5% 미만 | 월간 |

---

## 2. 레퍼런스 서비스 및 선정 근거

### 2.1 벤치마킹 서비스

| 서비스명 | 핵심 참고 요소 | 선정 근거 |
|----------|---------------|----------|
| **Gong.io** | 실시간 전사 UI, 대화 타임라인 시각화 | B2B 세일즈 콜 분석 도구로서 실시간 STT와 대화 흐름 시각화의 업계 표준 제시 |
| **Zendesk Talk** | 상담사 워크스페이스 통합, 고객 컨텍스트 패널 | 콜센터 상담사 관점의 정보 배치와 워크플로우 최적화 사례 |
| **Notion AI** | 온디맨드 AI 호출 UX, 로딩 상태 표시 | "사용자가 원할 때만 AI 호출"이라는 비침습적 AI 인터랙션 패턴의 모범 사례 |
| **Intercom Fin** | RAG 기반 지식베이스 검색, 추천 응답 | 컨텍스트 기반 AI 답변 생성과 관련 문서 연결의 구현 패턴 참고 |
| **Microsoft Copilot** | Skeleton UI, 프로그레시브 로딩 | 엔터프라이즈 환경에서의 AI 로딩 상태 피드백 UX 표준 |

### 2.2 UX 패턴 참고

**실시간 전사 영역:**
- Otter.ai의 발화자 구분 및 타임스탬프 표시 방식
- Google Meet 자막의 interim/final 텍스트 시각적 구분

**AI 인터랙션:**
- ChatGPT의 "Thinking..." 상태 표시와 스트리밍 응답
- Perplexity의 검색 쿼리 표시 및 출처 명시 패턴

> **Note:** 위 레퍼런스들은 각 영역의 업계 선도 서비스로, 사용자 신뢰도와 사용성 측면에서 검증된 패턴을 채택하고 있습니다.

---

## 3. 핵심 기능 및 상세 스펙

### 3.1 화면 구성 개요

대시보드는 3개의 주요 Zone으로 구성됩니다:

```
┌─────────────────────────────────────────────────────────────┐
│                    Header (상담 상태, 고객 정보 요약)           │
├─────────────────────────────┬───────────────────────────────┤
│                             │                               │
│      Zone A                 │         Zone B                │
│   실시간 대화 스트림          │     AI 인텔리전스 패널          │
│      (STT 전사)              │      (RAG 기반 분석)           │
│                             │                               │
│                             │                               │
├─────────────────────────────┴───────────────────────────────┤
│                    Zone C: 보안 및 마무리 영역                  │
│              (통화 종료 시 활성화 - 요약, SMS 발송)              │
└─────────────────────────────────────────────────────────────┘
```

> **이미지 컨셉:** 위 와이어프레임을 기반으로 실제 디자인 시안 작성 권장. 좌우 비율은 약 55:45로 Zone A에 더 많은 공간 할당.

---

### 3.2 Zone A: 실시간 대화 스트림 (STT)

**목적:** 통화 내용을 실시간으로 텍스트화하여 상담사가 대화 맥락을 빠르게 파악할 수 있도록 지원

#### 3.2.1 기능 상세

| 기능 | 상세 스펙 |
|------|----------|
| **Interim 텍스트 표시** | 인식 진행 중인 텍스트는 `#9CA3AF` (light gray) 색상으로 표시, 이탤릭체 적용 |
| **Final 텍스트 표시** | 확정된 텍스트는 `#1F2937` (black) 색상으로 표시, 일반 폰트 |
| **발화자 구분** | 텍스트 레이블로만 구분: `[고객]` / `[상담사]`, 아이콘 미사용 |
| **타임스탬프** | 각 발화 블록 옆에 `HH:MM:SS` 형식으로 표시 (hover 시에만 노출 옵션) |
| **자동 스크롤** | 새 발화 추가 시 자동으로 최신 위치로 스크롤 |
| **Jump to Live 버튼** | 사용자가 스크롤을 올린 경우 화면 하단에 플로팅 버튼 노출 |

#### 3.2.2 자동 스크롤 동작 규칙

```
IF 사용자가 최신 발화 영역에 있음 (하단 100px 이내)
   → 새 발화 추가 시 자동 스크롤 유지
   
ELSE IF 사용자가 과거 발화 영역을 보고 있음
   → 자동 스크롤 중지
   → "실시간으로 이동" 버튼 표시 (우하단 플로팅)
   
IF "실시간으로 이동" 버튼 클릭
   → 최신 발화 위치로 스무스 스크롤
   → 버튼 숨김
```

#### 3.2.3 UI 스펙

| 요소 | 스펙 |
|------|------|
| 폰트 크기 | 본문 14px, 발화자 레이블 12px |
| 줄 간격 | 1.6 |
| 발화 블록 간격 | 12px |
| 배경색 | `#FFFFFF` (순백) |
| 구분선 | 발화자 전환 시 subtle한 `#E5E7EB` 구분선 (선택적) |

#### 3.2.4 기술 요구사항

- **프로토콜:** WebSocket 기반 청크 스트리밍
- **데이터 포맷:**
```json
{
  "type": "transcript",
  "speaker": "customer" | "counselor",
  "text": "발화 내용",
  "isFinal": true | false,
  "timestamp": "2024-01-15T10:30:45.123Z"
}
```
- **버퍼링:** Interim 결과는 500ms 디바운싱 후 UI 업데이트

---

### 3.3 Zone B: AI 인텔리전스 패널 (RAG 기반)

**목적:** 상담사가 필요한 순간에 명시적으로 AI 분석을 요청하여 관련 정보와 추천 스크립트를 제공받음

#### 3.3.1 핵심 원칙

- **명시적 수동 트리거:** AI는 절대 자동으로 분석을 시작하지 않음
- **컨텍스트 제한:** 최근 3~5분 또는 10턴의 대화만 AI에 전송
- **편집 가능한 쿼리:** 자동 생성된 검색 쿼리를 상담사가 수정 가능

#### 3.3.2 기능 상세

| 기능 | 상세 스펙 |
|------|----------|
| **트리거 버튼 (FAB)** | 화면 우측 하단 Floating Action Button, 라벨: "AI 컨텍스트 분석" |
| **로딩 상태** | Skeleton UI로 결과 영역 미리보기 표시 (1~3초) |
| **결과 구성** | 3개 섹션: 요약 답변 → 관련 문서 링크 → 추천 스크립트 |
| **검색 쿼리 표시** | 결과 상단에 자동 생성된 쿼리 표시, 인라인 편집 가능 |
| **재분석** | 쿼리 수정 후 "다시 분석" 버튼으로 재요청 가능 |

#### 3.3.3 결과 표시 레이아웃

```
┌────────────────────────────────────────┐
│ 🔍 검색 쿼리: [카드 분실 신고 절차    ] │  ← 편집 가능
│                          [다시 분석]   │
├────────────────────────────────────────┤
│ 📋 요약 답변                           │
│ ─────────────────────────────────────  │
│ 카드 분실 신고는 다음 절차로 진행됩니다: │
│ 1. 본인 확인 (생년월일, 카드번호 뒤 4자리)│
│ 2. 분실 일시 및 장소 확인               │
│ 3. 즉시 사용 정지 처리                  │
│ 4. 재발급 안내 (수수료: 5,000원)        │
├────────────────────────────────────────┤
│ 📄 관련 문서                           │
│ ─────────────────────────────────────  │
│ • 카드 분실/도난 처리 매뉴얼 v2.3      │
│ • 재발급 수수료 정책 (2024.01 개정)    │
│ • 해외 분실 시 긴급 서비스 안내        │
├────────────────────────────────────────┤
│ 💬 추천 응대 스크립트                   │
│ ─────────────────────────────────────  │
│ "고객님, 불편을 드려 죄송합니다.       │
│  본인 확인 후 바로 카드 사용을 정지해   │
│  드리겠습니다. 먼저 생년월일을..."     │
│                         [복사]         │
└────────────────────────────────────────┘
```

#### 3.3.4 Skeleton UI 스펙

로딩 중에는 다음과 같은 Skeleton 표시:

| 영역 | Skeleton 형태 |
|------|--------------|
| 요약 답변 | 3줄의 회색 바 (높이 14px, 폭 80%/60%/70%) |
| 관련 문서 | 2개의 리스트 아이템 형태 바 |
| 추천 스크립트 | 4줄의 회색 바 |
| 애니메이션 | 좌→우 shimmer 효과 (1.5s 주기) |

#### 3.3.5 컨텍스트 슬라이딩 윈도우

| 파라미터 | 기본값 | 조정 가능 범위 |
|----------|--------|---------------|
| 시간 기준 | 최근 3분 | 1~5분 |
| 턴 기준 | 최근 10턴 | 5~20턴 |
| 적용 규칙 | 시간/턴 중 먼저 도달하는 조건 적용 | - |

#### 3.3.6 기술 요구사항

- **API 엔드포인트:** `POST /api/v1/ai/context-analysis`
- **요청 페이로드:**
```json
{
  "sessionId": "session-uuid",
  "context": [
    {"speaker": "customer", "text": "...", "timestamp": "..."},
    {"speaker": "counselor", "text": "...", "timestamp": "..."}
  ],
  "customQuery": "사용자 수정 쿼리 (옵션)"
}
```
- **응답 페이로드:**
```json
{
  "generatedQuery": "자동 생성 쿼리",
  "summary": "요약 답변 텍스트",
  "documents": [
    {"title": "문서명", "url": "/docs/...", "relevance": 0.95}
  ],
  "recommendedScript": "추천 스크립트 텍스트"
}
```
- **타임아웃:** 10초 (초과 시 에러 메시지 표시)
- **PII 처리:** 컨텍스트 전송 전 프론트엔드/미들웨어에서 PII 마스킹 적용

---

### 3.4 Zone C: 보안 및 마무리 영역

**목적:** 통화 종료 후 AI 생성 요약과 후속 SMS 발송을 안전하게 처리

#### 3.4.1 활성화 조건

- 통화 종료 버튼 클릭 시 모달 팝업으로 활성화
- 또는 통화 자동 종료 감지 시 (상대방 끊음) 팝업 표시

#### 3.4.2 기능 상세

| 기능 | 상세 스펙 |
|------|----------|
| **통화 요약 생성** | LLM 기반 자동 요약, PII는 `***`로 마스킹 처리됨 |
| **요약 편집** | 상담사가 내용 수정 가능 (텍스트 에디터) |
| **SMS 미리보기** | 마스킹 해제된 비즈니스 안전 데이터로 SMS 초안 표시 |
| **발송 권한** | 상담사가 최종 확인 후 "발송" 버튼 클릭 필요 |
| **보안 배지** | "🔒 보안 처리 완료" 배지 상시 표시 |

#### 3.4.3 모달 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│                    📞 통화 마무리                        │
│                                                         │
│  🔒 보안 처리 완료                                      │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📋 통화 요약                                           │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 고객(홍**) 카드 분실 신고 건.                    │   │
│  │ - 분실 일시: 2024-01-15 오전                    │   │
│  │ - 카드번호: ****-****-****-1234                 │   │
│  │ - 조치: 즉시 사용 정지 완료                      │   │
│  │ - 재발급 신청 완료 (배송 예정: 3영업일)          │   │
│  │                                    [편집]       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  📱 SMS 발송 미리보기                                   │
│  ┌─────────────────────────────────────────────────┐   │
│  │ [OO카드] 홍길동 고객님, 카드 분실 신고가         │   │
│  │ 정상 처리되었습니다. 재발급 카드는 3영업일       │   │
│  │ 이내 등록 주소로 배송됩니다. 문의: 1588-XXXX    │   │
│  │                                    [편집]       │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  수신번호: 010-****-5678                               │
│                                                         │
│         [취소]                    [SMS 발송]            │
└─────────────────────────────────────────────────────────┘
```

#### 3.4.4 PII 마스킹 규칙

| 데이터 유형 | 마스킹 패턴 | 예시 |
|------------|------------|------|
| 이름 | 첫 글자 + ** | 홍** |
| 전화번호 | 가운데 4자리 마스킹 | 010-****-5678 |
| 카드번호 | 앞 12자리 마스킹 | ****-****-****-1234 |
| 주민번호 | 뒤 7자리 마스킹 | 880101-******* |
| 주소 | 상세주소 마스킹 | 서울시 강남구 *** |
| 계좌번호 | 가운데 마스킹 | 110-***-***456 |

#### 3.4.5 보안 배지 동작

| 상태 | 배지 표시 | 색상 |
|------|----------|------|
| PII 마스킹 완료 | 🔒 보안 처리 완료 | Green (`#10B981`) |
| 처리 중 | 🔄 보안 처리 중... | Yellow (`#F59E0B`) |
| 오류 발생 | ⚠️ 보안 처리 확인 필요 | Red (`#EF4444`) |

#### 3.4.6 기술 요구사항

- **요약 생성 API:** `POST /api/v1/ai/call-summary`
- **SMS 발송 API:** `POST /api/v1/sms/send`
- **PII 마스킹:** 프론트엔드 정규식 + 백엔드 이중 검증
- **로깅:** 마스킹된 데이터만 로그에 기록

---

### 3.5 공통 UX 요소

#### 3.5.1 상태 피드백 시스템

| 상태 | 표시 방식 | 지속 시간 |
|------|----------|----------|
| 로딩 | Skeleton UI + 텍스트 설명 | 작업 완료까지 |
| 성공 | Toast 메시지 (우상단) | 3초 |
| 경고 | Inline 경고 배너 | 사용자 dismiss까지 |
| 에러 | 모달 팝업 + 재시도 옵션 | 사용자 액션까지 |

#### 3.5.2 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| `Ctrl + Shift + A` | AI 컨텍스트 분석 트리거 |
| `Ctrl + Enter` | SMS 발송 확인 (모달 내) |
| `Esc` | 모달 닫기 |
| `Space` (전사 영역 포커스 시) | Jump to Live |

#### 3.5.3 접근성 요구사항

- WCAG 2.1 AA 수준 준수
- 모든 인터랙티브 요소에 적절한 ARIA 레이블
- 고대비 모드 지원
- 스크린 리더 호환성

---

## 4. 추가 권장 기능

### 4.1 우선순위 분류

| 우선순위 | 기능 | 구현 복잡도 | 비즈니스 가치 |
|----------|------|------------|--------------|
| P1 | 세션별 AI 사용 히스토리 | 중 | 높음 |
| P2 | 관리자 모니터링 대시보드 | 높음 | 높음 |
| P3 | 상담사별 AI 사용 통계 | 중 | 중 |
| P4 | 자주 묻는 질문 자동 감지 | 높음 | 중 |
| P5 | 감정 분석 인디케이터 | 중 | 낮음 |

### 4.2 기능 상세

#### 4.2.1 세션별 AI 사용 히스토리 (P1)

**목적:** 상담사가 현재 통화 중 AI 분석 내역을 다시 참조할 수 있도록 지원

**기능 스펙:**
- Zone B 상단에 "히스토리" 탭 추가
- 현재 세션 내 AI 분석 요청 목록 표시 (시간순)
- 각 항목 클릭 시 해당 분석 결과 다시 표시
- 세션 종료 시 히스토리 자동 삭제

```
┌─────────────────────────────────────┐
│  [현재 분석]  [히스토리 (3)]        │
├─────────────────────────────────────┤
│  • 10:32 - 카드 분실 신고 절차      │
│  • 10:35 - 재발급 수수료 정책       │
│  • 10:38 - 해외 사용 정지 방법      │
└─────────────────────────────────────┘
```

#### 4.2.2 관리자 모니터링 대시보드 (P2)

**목적:** 관리자가 실시간으로 상담 현황과 AI 시스템 성능을 모니터링

**주요 지표:**
- 현재 활성 통화 수
- AI 분석 요청 수 (실시간)
- 평균 AI 응답 시간
- 시스템 에러율
- 상담사별 AI 사용 현황 (집계)

**권한 관리:**
- 역할 기반 접근 제어 (RBAC)
- 관리자/슈퍼바이저/일반 상담사 권한 분리

#### 4.2.3 상담사별 AI 사용 통계 (P3)

**목적:** 개인별 AI 기능 활용도 분석 및 교육 자료로 활용

**제공 지표:**
- 일/주/월별 AI 분석 요청 수
- 가장 많이 검색한 키워드 TOP 10
- AI 추천 스크립트 복사 사용률
- 평균 통화 시간 대비 AI 사용 시점

---

## 5. 사용자 페르소나 및 시나리오

### 5.1 Primary Persona: 김상담 (콜센터 상담사)

| 항목 | 내용 |
|------|------|
| **이름** | 김상담 (가명) |
| **나이** | 32세 |
| **경력** | 콜센터 상담 5년차 |
| **근무 환경** | 금융권 인바운드/아웃바운드 콜센터 |
| **일일 콜 수** | 평균 80~100건 |
| **기술 친숙도** | 중상 (기본 IT 도구 사용에 익숙) |

#### 5.1.1 Goals (목표)

- 고객 문의에 빠르고 정확하게 답변하고 싶다
- 통화 중 정보 검색에 드는 시간을 줄이고 싶다
- 실수 없이 후처리(요약, SMS)를 완료하고 싶다
- 개인정보 관련 컴플라이언스를 준수하고 싶다

#### 5.1.2 Frustrations (불만)

- "AI가 자동으로 뭔가 띄우면 오히려 신경 쓰여요"
- "전사본에 색깔이 너무 많으면 읽기 힘들어요"
- "정보 찾으려면 여러 시스템을 왔다갔다 해야 해서 시간 낭비예요"
- "요약할 때 개인정보 실수로 넣을까 봐 조심스러워요"

#### 5.1.3 Behaviors (행동 패턴)

- 통화 중에는 화면을 자주 보지 않고 듣기에 집중
- 복잡한 질문이 들어오면 잠시 "확인해 드리겠습니다"라고 한 뒤 검색
- 통화 종료 후 빠르게 요약을 작성하고 다음 콜을 받음
- 새로운 시스템은 처음에 거부감을 느끼지만, 실제로 도움이 되면 적극 사용

### 5.2 Secondary Persona: 박관리 (팀 리더/슈퍼바이저)

| 항목 | 내용 |
|------|------|
| **이름** | 박관리 (가명) |
| **나이** | 41세 |
| **경력** | 콜센터 관리 8년차 |
| **역할** | 상담사 10명 관리, 품질 모니터링 |
| **관심사** | 팀 AHT 감소, 상담 품질 향상, 컴플라이언스 |

---

### 5.3 사용자 시나리오

#### 시나리오 1: 일반적인 문의 처리

**상황:** 김상담이 카드 결제 한도 문의 전화를 받음

```
1. 전화 연결됨 → Zone A에서 실시간 전사 시작
2. 고객: "결제 한도를 올리고 싶은데요"
3. 김상담: 한도 상향 조건이 기억나지 않음
4. [AI 컨텍스트 분석] 버튼 클릭
5. Skeleton UI 표시 (2초)
6. Zone B에 결과 표시:
   - 요약: 한도 상향 조건 및 절차
   - 관련 문서: 한도 정책 매뉴얼 링크
   - 추천 스크립트: "고객님, 한도 상향을 위해서는..."
7. 김상담: 스크립트 참고하여 안내
8. 통화 종료 → Zone C 모달 표시
9. AI 요약 확인 (PII 마스킹됨) → 필요시 수정
10. SMS 발송 버튼 클릭 → 완료
```

**성공 지표:**
- AI 분석 결과 확인까지 3초 이내
- 추가 검색 없이 원스톱 안내 완료
- 통화 후 처리 시간 30초 이내

#### 시나리오 2: 복잡한 클레임 처리

**상황:** 고객이 해외에서 카드가 도용되었다며 강하게 항의

```
1. 전화 연결됨 → Zone A에서 긴장된 대화 전사
2. 고객이 감정적으로 여러 정보를 한꺼번에 말함
3. 김상담: 스크롤을 올려 고객 발화 내용 다시 확인
4. [AI 컨텍스트 분석] 버튼 클릭
5. AI가 핵심 이슈 추출: "해외 부정 사용 의심 건"
6. 관련 문서: 부정 사용 신고 매뉴얼, 보상 절차
7. 추천 스크립트: 공감 표현 + 절차 안내 포함
8. 김상담: 스크립트를 참고하되 자연스럽게 변형하여 응대
9. 통화 중간에 검색 쿼리 수정: "해외 부정사용 보상 한도"
10. [다시 분석] 클릭 → 추가 정보 확인
11. 통화 종료 후 상세 요약 작성 → SMS로 처리 현황 발송
```

**성공 지표:**
- 감정적 고객 응대 중에도 정확한 정보 제공
- 쿼리 수정을 통한 심화 검색 활용
- 고객 만족도 향상 (재문의 감소)

#### 시나리오 3: 신규 상담사 온보딩

**상황:** 입사 2주차 신규 상담사가 처음 보는 문의 유형 처리

```
1. 고객: "적금 중도 해지 시 이자가 어떻게 되나요?"
2. 신규 상담사: 해당 상품 지식 부족
3. [AI 컨텍스트 분석] 버튼 클릭
4. AI 결과:
   - 요약: 중도 해지 이자 계산 방식
   - 관련 문서: 해당 적금 상품 약관
   - 추천 스크립트: 단계별 안내 멘트
5. 신규 상담사: 관련 문서를 새 탭에서 열어 상세 확인
6. 추천 스크립트를 거의 그대로 활용하여 안내
7. 통화 종료 후 요약에서 "신규 상담사 학습 사례"로 태그 (향후 기능)
```

**성공 지표:**
- 신규 상담사도 복잡한 문의를 혼자 처리 가능
- 선배 상담사에게 물어보는 시간 감소
- 온보딩 기간 단축 효과

---

## 6. 기술 스택 권장사항

### 6.1 아키텍처 개요

```
┌─────────────────────────────────────────────────────────────┐
│                         클라이언트                           │
│   ┌─────────────────────────────────────────────────────┐   │
│   │              Web Dashboard (SPA)                     │   │
│   │         React/Vue/Angular + TypeScript              │   │
│   └─────────────────────────────────────────────────────┘   │
│                            │                                 │
│              ┌─────────────┴─────────────┐                  │
│              │      WebSocket            │                  │
│              │   (실시간 STT 스트리밍)     │                  │
│              └─────────────┬─────────────┘                  │
└────────────────────────────│────────────────────────────────┘
                             │
┌────────────────────────────│────────────────────────────────┐
│                         백엔드                               │
│   ┌─────────────────────────────────────────────────────┐   │
│   │                 API Gateway                          │   │
│   │            (인증, 라우팅, 레이트리밋)                  │   │
│   └───────────┬─────────────┬─────────────┬─────────────┘   │
│               │             │             │                  │
│   ┌───────────▼───┐ ┌───────▼───────┐ ┌───▼───────────┐    │
│   │   STT Service │ │  AI/RAG Service│ │ SMS Service   │    │
│   │   (음성→텍스트) │ │  (컨텍스트분석) │ │ (메시지발송)  │    │
│   └───────────────┘ └───────────────┘ └───────────────┘    │
│               │             │             │                  │
│   ┌───────────▼─────────────▼─────────────▼─────────────┐   │
│   │              PII Masking Middleware                  │   │
│   └─────────────────────────────────────────────────────┘   │
│                            │                                 │
│   ┌────────────────────────▼────────────────────────────┐   │
│   │                    Database                          │   │
│   │         (세션, 전사본, 요약, 감사로그)                 │   │
│   └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

### 6.2 프론트엔드 스택

| 구성요소 | 권장 기술 | 선정 근거 |
|----------|----------|----------|
| **프레임워크** | React 18+ 또는 Vue 3 | 컴포넌트 기반 개발, 풍부한 생태계 |
| **언어** | TypeScript | 타입 안정성, 유지보수성 |
| **상태관리** | Zustand 또는 Pinia | 경량, 간단한 API |
| **스타일링** | Tailwind CSS + CSS Modules | 일관된 디자인 시스템, 빠른 개발 |
| **WebSocket** | Socket.IO Client | 재연결 로직, 이벤트 기반 통신 |
| **테스팅** | Vitest + Testing Library | 빠른 실행, 컴포넌트 테스트 |

### 6.3 백엔드 스택

| 구성요소 | 권장 기술 | 선정 근거 |
|----------|----------|----------|
| **런타임** | Node.js 20+ 또는 Python 3.11+ | 비동기 처리 성능, AI 라이브러리 호환 |
| **프레임워크** | NestJS 또는 FastAPI | 구조화된 아키텍처, 타입 지원 |
| **WebSocket** | Socket.IO | 실시간 양방향 통신 |
| **API 문서화** | OpenAPI (Swagger) | 자동 문서 생성, 클라이언트 SDK 생성 |
| **검증** | Zod 또는 Pydantic | 런타임 타입 검증 |

### 6.4 AI/ML 스택

| 구성요소 | 권장 기술 | 선정 근거 |
|----------|----------|----------|
| **STT** | Google Speech-to-Text / Azure Speech / Whisper | 한국어 지원, 실시간 스트리밍 |
| **LLM** | GPT-4 / Claude / 자체 모델 | 요약, 쿼리 생성 품질 |
| **RAG** | LangChain + Vector DB | 문서 검색 및 컨텍스트 주입 |
| **Vector DB** | Pinecone / Weaviate / Qdrant | 빠른 유사도 검색 |
| **Embedding** | OpenAI Embeddings / sentence-transformers | 한국어 임베딩 품질 |

### 6.5 데이터베이스 (추상 수준)

| 데이터 유형 | 권장 DB 유형 | 용도 |
|------------|-------------|------|
| 세션 데이터 | Redis | 실시간 상태, 캐시 |
| 전사본/요약 | PostgreSQL | 영구 저장, 검색 |
| 문서 벡터 | Vector DB | RAG 검색용 |
| 감사 로그 | PostgreSQL + 별도 테이블 | 컴플라이언스 대응 |
| 분석 데이터 | ClickHouse (선택) | 대용량 분석 쿼리 |

> **Note:** 상세 DB 스키마는 별도 기술 설계 문서에서 정의합니다.

### 6.6 인프라 및 보안

| 구성요소 | 권장 기술 | 선정 근거 |
|----------|----------|----------|
| **클라우드** | AWS / GCP / Azure | 엔터프라이즈 지원, 규정 준수 |
| **컨테이너** | Docker + Kubernetes | 확장성, 배포 자동화 |
| **인증** | OAuth 2.0 + JWT | 표준화된 인증 플로우 |
| **암호화** | TLS 1.3, AES-256 | 전송 중/저장 시 암호화 |
| **모니터링** | Prometheus + Grafana | 실시간 메트릭, 알림 |
| **로깅** | ELK Stack / Loki | 중앙화된 로그 관리 |

### 6.7 PII 마스킹 구현

**프론트엔드 마스킹 (1차):**
```javascript
const piiPatterns = {
  phone: /01[0-9]-?\d{3,4}-?\d{4}/g,
  cardNumber: /\d{4}[- ]?\d{4}[- ]?\d{4}[- ]?\d{4}/g,
  residentId: /\d{6}[- ]?\d{7}/g,
  email: /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,
  // 추가 패턴...
};

function maskPII(text) {
  let masked = text;
  Object.entries(piiPatterns).forEach(([type, pattern]) => {
    masked = masked.replace(pattern, (match) => maskByType(type, match));
  });
  return masked;
}
```

**백엔드 검증 (2차):**
- 프론트엔드 마스킹 결과를 백엔드에서 재검증
- 마스킹되지 않은 PII 감지 시 자동 마스킹 및 경고 로그

### 6.8 성능 요구사항

| 지표 | 목표값 | 측정 방식 |
|------|--------|----------|
| STT 지연시간 | < 500ms | 발화 종료~텍스트 표시 |
| AI 분석 응답 | < 3초 | 버튼 클릭~결과 표시 |
| 페이지 로드 | < 2초 | FCP 기준 |
| WebSocket 재연결 | < 1초 | 연결 끊김~재연결 |
| 동시 접속자 | 500명+ | 단일 인스턴스 |

---

## 부록: 용어 정의

| 용어 | 정의 |
|------|------|
| STT | Speech-to-Text, 음성을 텍스트로 변환하는 기술 |
| RAG | Retrieval-Augmented Generation, 검색 기반 생성 AI |
| PII | Personally Identifiable Information, 개인식별정보 |
| AHT | Average Handling Time, 평균 처리 시간 |
| FAB | Floating Action Button, 플로팅 액션 버튼 |
| Interim | 인식 진행 중인 중간 결과 |
| Final | 인식이 완료된 최종 결과 |
| Skeleton UI | 로딩 중 콘텐츠 영역을 미리보기 형태로 표시하는 UI 패턴 |

---

**문서 버전:** 1.0  
**최종 수정일:** 2025년 1월  
**작성자:** AI 기반 PRD 생성 시스템  
**검토 필요:** PM, CTO, 보안팀, UX팀